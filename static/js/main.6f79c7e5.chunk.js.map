{"version":3,"sources":["services/api.js","pages/Main/index.js","pages/Box/index.js","routes.js","App.js","index.js","assets/logo.svg"],"names":["api","axios","create","baseURL","Main","state","newBox","handleSubmit","_callee","e","response","regenerator_default","a","wrap","_context","prev","next","preventDefault","post","title","_this","sent","props","history","push","concat","data","_id","stop","handleInputChange","setState","target","value","react_default","createElement","id","onSubmit","this","src","logo","alt","placeholder","onChange","type","Component","Box","box","subscribeToNewFiles","match","params","io","socket","emit","on","Object","objectSpread","files","toConsumableArray","handleUpload","forEach","file","FormData","append","get","es","onDropAccepted","_ref","getRootProps","getInputProps","assign","className","map","key","href","url","index_esm","size","color","distanceInWords","createdAt","Date","locale","pt","Routes","react_router_dom","react_router","path","exact","component","App","routes","ReactDOM","render","src_App_0","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6f79c7e5.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"https://ermesontchum.herokuapp.com/\",\r\n\r\n});\r\n\r\nexport default api;\r\n\r\n","import React, { Component } from 'react';\r\nimport api from \"../../services/api\"\r\n\r\nimport logo from \"../../assets/logo.svg\"\r\nimport \"./styles.css\";\r\n\r\nexport default class Main extends Component {\r\n  state = {\r\n    newBox:\"\",\r\n\r\n  };\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const response = await api.post(\"boxes\", {\r\n      title: this.state.newBox,\r\n\r\n    });\r\n    this.props.history.push(`/box/${response.data._id}`)\r\n  }\r\n  handleInputChange = (e) => {\r\n    this.setState({ newBox: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"main-container\">\r\n      <form onSubmit={this.handleSubmit}>\r\n      <img src={logo} alt=\"\"/>\r\n      <input placeholder=\"Criar uma box\" value={this.state.newBox} onChange={this.handleInputChange}/> \r\n      <button type=\"submit\">Criar</button>\r\n\r\n\r\n      </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { MdInsertDriveFile  } from \"react-icons/md\"\r\nimport logo from \"../../assets/logo.svg\"\r\nimport api from \"../../services/api\"\r\nimport { distanceInWords } from \"date-fns\";\r\nimport pt from \"date-fns/locale/pt\"\r\n import  \"./styles.css\";\r\n import Dropzone from \"react-dropzone\";\r\n import socket from \"socket.io-client\";\r\n\r\nexport default class Box extends Component {\r\nstate = { box: {} }\r\n\r\n\r\n   async componentDidMount(){\r\n     this.subscribeToNewFiles();\r\n     const box = this.props.match.params.id;\r\n     const response = await api.get(`boxes/${box}`)\r\n\r\n     this.setState({box: response.data})\r\n\r\n  }\r\n\r\n  subscribeToNewFiles = () => {\r\n    const box = this.props.match.params.id;\r\n    const io = socket(\"https://ermesontchum.herokuapp.com/\");\r\n    io.emit(\"connectRoom\", box);\r\n\r\n    io.on(\"file\", data => {\r\n      this.setState({\r\n         box: { ... this.state.box, files: [data , ... this.state.box.files] } })\r\n    });\r\n\r\n  }\r\n\r\n    handleUpload = files => {\r\n      files.forEach(file => {\r\n        const data = new FormData();\r\n        const box = this.props.match.params.id;\r\n        data.append(\"file\", file);\r\n        api.post(`boxes/${box}/files`, data)\r\n      });\r\n    };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"box-container\">\r\n      <header>\r\n         <img src={logo} alt=\"\"/>\r\n         <h1> {this.state.box.title} </h1>\r\n         </header>\r\n         <Dropzone onDropAccepted={this.handleUpload}>\r\n           {({ getRootProps, getInputProps }) => (\r\n             <div className=\"upload\" {...getRootProps()}>\r\n             <input {...getInputProps()}/>\r\n\r\n             <p>Arraste seus arquivos ou clique aqui</p>\r\n             </div>\r\n           )}\r\n           </Dropzone>\r\n         <ul>\r\n           { this.state.box.files && this.state.box.files.map(file => (\r\n\r\n           \r\n           <li key={file._id}>\r\n           <a  className=\"fileInfo\" href={file.url} target=\"_blank\" >\r\n              <MdInsertDriveFile size={24} color=\"#AC5FFF\"/>\r\n              <strong>{file.title}</strong>\r\n              </a>\r\n              <span>\r\n                h√°{\" \"}\r\n                {distanceInWords(file.createdAt, new Date(), {\r\n                locale: pt\r\n              })}\r\n              </span>\r\n           </li>\r\n\r\n          )) }\r\n         </ul>\r\n      \r\n      \r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\"\r\nimport Main from \"./pages/Main\";\r\nimport Box from \"./pages/Box\";\r\n\r\n\r\nconst Routes = () => (\r\n    <BrowserRouter>\r\n    <Switch>\r\n        <Route path=\"/\" exact component={Main}/>\r\n        <Route path=\"/box/:id\" component={Box}/>\r\n    </Switch>\r\n    </BrowserRouter>\r\n);\r\nexport default Routes;","import React, {Component} from 'react';\n\nimport './App.css';\nimport Main from \"./pages/Main\";\nimport Routes from \"./routes\"\nconst App = () => <Routes/>;\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/logo.87f18662.svg\";"],"sourceRoot":""}