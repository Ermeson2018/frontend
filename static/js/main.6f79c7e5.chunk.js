(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){e.exports=n(286)},128:function(e,t,n){},148:function(e,t,n){},252:function(e,t,n){},277:function(e,t){},286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(110),o=n.n(c),i=(n(128),n(14)),s=n.n(i),l=n(30),u=n(31),p=n(32),m=n(35),h=n(33),f=n(36),b=n(111),d=n.n(b).a.create({baseURL:"https://ermesontchum.herokuapp.com/"}),E=n(34),x=n.n(E),v=(n(148),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={newBox:""},n.handleSubmit=function(){var e=Object(l.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.post("boxes",{title:n.state.newBox});case 3:a=e.sent,n.props.history.push("/box/".concat(a.data._id));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=function(e){n.setState({newBox:e.target.value})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"main-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("img",{src:x.a,alt:""}),r.a.createElement("input",{placeholder:"Criar uma box",value:this.state.newBox,onChange:this.handleInputChange}),r.a.createElement("button",{type:"submit"},"Criar")))}}]),t}(a.Component)),w=n(116),g=n(11),j=n(121),O=n(122),y=n(120),k=n(112),C=n(113),A=n.n(C),F=(n(252),n(119)),I=n(115),S=n.n(I),B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={box:{}},n.subscribeToNewFiles=function(){var e=n.props.match.params.id,t=S()("https://ermesontchum.herokuapp.com/");t.emit("connectRoom",e),t.on("file",function(e){n.setState({box:Object(O.a)({},n.state.box,{files:[e].concat(Object(j.a)(n.state.box.files))})})})},n.handleUpload=function(e){e.forEach(function(e){var t=new FormData,a=n.props.match.params.id;t.append("file",e),d.post("boxes/".concat(a,"/files"),t)})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.subscribeToNewFiles(),t=this.props.match.params.id,e.next=4,d.get("boxes/".concat(t));case 4:n=e.sent,this.setState({box:n.data});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"box-container"},r.a.createElement("header",null,r.a.createElement("img",{src:x.a,alt:""}),r.a.createElement("h1",null," ",this.state.box.title," ")),r.a.createElement(F.a,{onDropAccepted:this.handleUpload},function(e){var t=e.getRootProps,n=e.getInputProps;return r.a.createElement("div",Object.assign({className:"upload"},t()),r.a.createElement("input",n()),r.a.createElement("p",null,"Arraste seus arquivos ou clique aqui"))}),r.a.createElement("ul",null,this.state.box.files&&this.state.box.files.map(function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("a",{className:"fileInfo",href:e.url,target:"_blank"},r.a.createElement(y.a,{size:24,color:"#AC5FFF"}),r.a.createElement("strong",null,e.title)),r.a.createElement("span",null,"h\xe1"," ",Object(k.distanceInWords)(e.createdAt,new Date,{locale:A.a})))})))}}]),t}(a.Component),D=function(){return r.a.createElement(w.a,null,r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/",exact:!0,component:v}),r.a.createElement(g.a,{path:"/box/:id",component:B})))},N=function(){return r.a.createElement(D,null)};o.a.render(r.a.createElement(N,null),document.getElementById("root"))},34:function(e,t,n){e.exports=n.p+"static/media/logo.87f18662.svg"}},[[123,1,2]]]);
//# sourceMappingURL=main.6f79c7e5.chunk.js.map